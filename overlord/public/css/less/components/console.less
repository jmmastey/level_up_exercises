/* component vars */

@console-green: #0f0;
@console-border-color: @gray-ULTRALIGHT;
@console-font-size: 18px;
@console-line-svg: url('data:image/svg+xml,<?xml version="1.0" encoding="utf-8"?> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"> <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="2px" height="2px" viewBox="0 0 2 2" enable-background="new 0 0 600 600" xml:space="preserve"> <line fill="none" stroke="#000000" stroke-miterlimit="10" x1="0" y1="0.5" x2="600" y2="0.5"/> </svg>');
@console-monitor-color: #cabfa6;
@console-monitor-padding: 15px;
@console-bezel-width: 50px;


/* component styles */

.console {
  position: absolute;
  width: 100%; height: 100%;
  overflow: hidden;
  background-color: @gray-DARKEST;
  box-shadow: inset 0px 0px 20px 0px rgba(0,0,60,0.3);
  .console-monitor();

  &::before {
    .console-line-effect();
  }
}


.console .content {
  width: 100%; height: 100%;
  padding: @gutter-width / 3;
  padding-right: (@gutter-width / 3) + 15px;
  margin-right: -15px; // hide scrollbars
  font-family: "Consolas", monospace;
  font-size: @console-font-size;
  line-height: @console-font-size;
  color: @console-green;
  overflow-y: scroll;
}

.console .output,
.console .input {
  width: 100%;
  overflow: hidden;
  word-break: break-all;
  word-wrap: break-word;
  white-space: pre-wrap;
}

.console .output {
  left: 0;
}

.console .cursor {
  font-weight: bold;
  left: (@console-font-size / 2) * -1;
  .animation(cursorBlink 1.2s linear infinite);
}

/* custom mixins */


.console-monitor() {
  padding: @console-monitor-padding;

  border: @console-bezel-width solid darken(@console-monitor-color, 10%);
  border-bottom-width: @console-bezel-width * 2;

  border-radius: 10px;
  .box-shadow(~'inset 0 0 0px 7px #928771, inset 0 0 0px 12px rgba(0, 0, 0, 0.2)');


  // this isn't showing... meh
  &::after {
    position: absolute;
    content: '';
    width: 70px; height: 10px;
    right: 20px; bottom: -35px;

    background-color: @gray-DARK;
  }
}

.console-line-effect() {
  @offset: @console-monitor-padding * 2;

  position: absolute;
  content: '';
  width: calc(~'100% - @{offset}'); height: calc(~'100% - @{offset}');
  top: @console-monitor-padding; left: @console-monitor-padding;
  background: @console-line-svg;
  z-index: 1;
  opacity: 0.4;
  .animation(joltBG 5s linear infinite);
}

/* keyframes */

.keyframes(~'cursorBlink, 0%  { opacity: 0; } 33% { opacity: 1; } 66% { opacity: 1; } 100% { opacity: 0; } ');
.keyframes(~'joltBG, 0% { opacity: 0.3; } 22%, 26% { opacity: 0.2; } 27%, 45% { opacity: 0.4; } 46%, 76% { opacity: 0.5; } 76%, 78% { opacity: 0.05;} 78% { opacity: 0.3; } 100% { opacity: 0.3; }');
