<h1>Flight options for your trip</h1>

<div>
  <h2>Trip Requirements</h2>
  <% location = @trip.home_location %>
  <div>Home location: <%= location.address1 %>,
    <%= location.city %>,
    <%= location.state %>
    <%= location.postal_code %></div>

  <% @trip.meetings.each do |meeting| %>
    <% location = meeting.location %>
    <div>Meeting location: <%= location.address1 %>,
      <%= location.city %>,
      <%= location.state %>
      <%= location.postal_code %></div>
    <div>Meeting time: <%= meeting.start %></div>
    <div>Meeting length: <%= meeting.length %> hours</div>
  <% end %>
</div>

<div>
  <h2>Shortest flight options for your trip</h2>

  <% flight = @optimizer.departure %>
  <h3>Departing flight to <%= flight.destination_airport.code %></h3>
  <div>Departs <%= flight.origin_airport.code %></div>
  <div>at <%= flight.origin_date_time %></div>
  <div>Arrives <%= flight.destination_airport.code %></div>
  <div>at <%= flight.destination_date_time %></div>

  <% flight = @optimizer.return %>
  <h3>Returning flight to <%= flight.destination_airport.code %></h3>
  <div>Departs <%= flight.origin_airport.code %></div>
  <div>at <%= flight.origin_date_time %></div>
  <div>Arrives <%= flight.destination_airport.code %></div>
  <div>at <%= flight.destination_date_time %></div>

</div>

<div>
  <h2>show other flight options (write a test)</h2>

  <table>
    <tr>
      <th>Origin</th>
      <th>Departs</th>
      <th>Destination</th>
      <th>Arrives</th>
    </tr>

  <% flight = @optimizer.return %>
    <tr>
      <td><%= flight.origin_airport.code %></td>
      <td><%= flight.origin_date_time %></td>
      <td><%= flight.destination_airport.code %></td>
      <td><%= flight.destination_date_time %></td>
    </tr>
  </table>

</div>

